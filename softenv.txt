# install conda
wget https://repo.anaconda.com/miniconda/Miniconda3-py39_4.9.2-Linux-x86_64.sh
bash Miniconda3-latest-Linux-x86_64.sh
bash ~/.bash_profile 

conda create -n scqc python=3.8
conda activate scqc

# update conda if necessary
conda update -n base -c defaults conda

conda install requests pandas ipython scipy wget
conda install -c bioconda star
conda install -c conda-forge leidenalg

pip install scanpy

# install R packages on conda
conda install -c conda-forge r-base r-essentials r-cairo r-uwot

R -e "install.packages('devtools',repos='http://cran.us.r-project.org')"
R -e "install.packages('BiocManager',repos='http://cran.us.r-project.org')"
R -e "devtools::install_github('gillislab/MetaMarkers')"



#download sratoolkit, link binaries within conda environment
cd  $CONDA_PREFIX

# linux/centos
wget https://ftp-trace.ncbi.nlm.nih.gov/sra/sdk/2.11.0/sratoolkit.2.11.0-centos_linux64.tar.gz
tar -xvzf sratoolkit.2.11.0-centos_linux64.tar.gz
cd bin
ln -s ../sratoolkit.2.11.0-centos_linux64/bin/* ./

# macos
# wget https://ftp-trace.ncbi.nlm.nih.gov/sra/sdk/2.11.0/sratoolkit.2.11.0-mac64.tar.gz
# tar -xvzf sratoolkit.2.11.0-mac64.tar.gz
# cd bin
#ln -s ../sratoolkit.2.11.0-mac64/bin/* ./





